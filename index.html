<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seiren ID Club</title>
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ff69b4">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/3461/3461877.png">

    <style>
        /* --- 2004 AESTHETIC --- */
        body {
            font-family: 'Verdana', sans-serif;
            background-color: #e0f7fa;
            /* Cute gingham/grid pattern */
            background-image: 
                linear-gradient(rgba(255, 105, 180, 0.2) 2px, transparent 2px),
                linear-gradient(90deg, rgba(255, 105, 180, 0.2) 2px, transparent 2px);
            background-size: 30px 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow-x: hidden;
        }

        .container {
            background-color: #fff;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(255, 105, 180, 0.3);
            border: 4px solid #ff69b4;
            max-width: 400px;
            width: 90%;
            text-align: center;
            position: relative;
        }

        h1 {
            color: #ff69b4;
            font-size: 1.8rem;
            text-transform: uppercase;
            letter-spacing: -1px;
            margin-bottom: 5px;
            text-shadow: 2px 2px 0 #e0f7fa;
        }

        .subtitle {
            font-size: 0.75rem;
            color: #888;
            margin-bottom: 20px;
            font-style: italic;
        }

        /* INPUTS */
        .input-group {
            background: #fff0f5;
            padding: 15px;
            border-radius: 15px;
            border: 2px dashed #ffb7b2;
            margin-bottom: 20px;
        }

        input, select {
            width: 100%;
            padding: 10px;
            margin: 5px 0 10px 0;
            border: 1px solid #ffcae5;
            border-radius: 8px;
            font-family: 'Verdana', sans-serif;
            box-sizing: border-box;
            background: white;
        }

        button {
            background: linear-gradient(180deg, #ff69b4, #ff1493);
            color: white;
            border: none;
            padding: 15px;
            width: 100%;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            box-shadow: 0 4px 0 #c71585;
            transition: transform 0.1s;
        }
        button:active {
            transform: translateY(4px);
            box-shadow: 0 0 0 #c71585;
        }

        /* --- THE ID CARD RESULT --- */
        #result {
            display: none;
            margin-top: 30px;
            perspective: 1000px;
        }

        .id-card {
            background: linear-gradient(135deg, #ffffff 0%, #f0f8ff 100%);
            border: 2px solid #00bfff;
            border-radius: 15px;
            padding: 15px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            text-align: left;
        }

        /* Holographic Shine Effect */
        .id-card::before {
            content: "";
            position: absolute;
            top: -50%; left: -50%;
            width: 200%; height: 200%;
            background: linear-gradient(45deg, rgba(255,255,255,0) 40%, rgba(255,255,255,0.6) 50%, rgba(255,255,255,0) 60%);
            transform: rotate(30deg);
            pointer-events: none;
            animation: shine 3s infinite;
        }

        @keyframes shine { 0% {top: -150%;} 100% {top: 150%;} }

        .card-header {
            display: flex;
            justify-content: space-between;
            border-bottom: 2px solid #00bfff;
            padding-bottom: 5px;
            margin-bottom: 10px;
        }

        .card-title {
            font-weight: bold;
            color: #00bfff;
            font-size: 0.8rem;
            text-transform: uppercase;
        }

        .avatar-box {
            float: right;
            width: 60px;
            height: 60px;
            background: #ffebf5;
            border: 2px solid #ff69b4;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            margin-left: 10px;
        }

        .card-name {
            font-size: 1.4rem;
            color: #ff1493;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .card-stats {
            font-size: 0.8rem;
            color: #555;
            line-height: 1.6;
        }

        .lucky-item-box {
            margin-top: 15px;
            background: #fffacd; /* Lemon Chiffon */
            border: 2px dashed #ffd700;
            border-radius: 10px;
            padding: 10px;
            text-align: center;
            animation: popIn 0.5s ease-out;
        }

        .item-icon { font-size: 2rem; display: block; margin-bottom: 5px; }
        .item-name { font-weight: bold; color: #d2691e; font-size: 0.9rem; }
        .item-desc { font-size: 0.75rem; color: #888; }

        @keyframes popIn { 
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

    </style>
</head>
<body>

    <div class="container">
        <h1>Seiren ID Club</h1>
        <div class="subtitle">Official Resident Registration</div>

        <div class="input-group">
            <label>Name</label>
            <input type="text" id="username" placeholder="Your name...">
            
            <label>Age</label>
            <input type="number" id="age" placeholder="18">
            
            <label>Zodiac</label>
            <select id="zodiac">
                <option value="Aries">Aries</option>
                <option value="Taurus">Taurus</option>
                <option value="Gemini">Gemini</option>
                <option value="Cancer">Cancer</option>
                <option value="Leo">Leo</option>
                <option value="Virgo">Virgo</option>
                <option value="Libra">Libra</option>
                <option value="Scorpio">Scorpio</option>
                <option value="Sagittarius">Sagittarius</option>
                <option value="Capricorn">Capricorn</option>
                <option value="Aquarius">Aquarius</option>
                <option value="Pisces">Pisces</option>
            </select>
        </div>

        <button onclick="generateID()">üíó Generate ID üíó</button>

        <div id="result">
            <div class="id-card">
                <div class="card-header">
                    <span class="card-title">Seiren High School</span>
                    <span class="card-title">ID: #<span id="id-num">000</span></span>
                </div>
                
                <div class="avatar-box" id="avatar">üéÄ</div>
                
                <div class="card-name" id="animeName">Loading...</div>
                
                <div class="card-stats">
                    <strong>Type:</strong> <span id="archetype"></span><br>
                    <strong>Hair:</strong> <span id="hair"></span><br>
                    <strong>Power:</strong> <span id="power"></span>
                </div>

                <div style="clear:both; margin-top:10px; font-size:0.75rem; color:#888; border-top:1px solid #eee; padding-top:5px;">
                    <em>"<span id="quote"></span>"</em>
                </div>
            </div>

            <div class="lucky-item-box">
                <span class="item-icon" id="item-icon">üéÅ</span>
                <div class="item-name" id="item-name">Mystery Gift</div>
                <div class="item-desc" id="item-desc">Generated specially for you!</div>
            </div>
            
            <p style="font-size:0.7rem; color:#bbb; margin-top:15px;">Take a screenshot to save!</p>
        </div>
    </div>

    <script>
        // PWA SETUP
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => { navigator.serviceWorker.register('./sw.js'); });
        }

        function generateID() {
            const name = document.getElementById('username').value;
            const age = parseInt(document.getElementById('age').value);
            const zodiac = document.getElementById('zodiac').value;

            if (!name || !age) { alert("Enter info first!"); return; }

            // SEED LOGIC
            let seed = age + name.length;
            for (let i = 0; i < name.length; i++) seed += name.charCodeAt(i);
            const zodiacs = ["Aries", "Taurus", "Gemini", "Cancer", "Leo", "Virgo", "Libra", "Scorpio", "Sagittarius", "Capricorn", "Aquarius", "Pisces"];
            seed += zodiacs.indexOf(zodiac) * 50;

            const get = (arr, mod) => arr[(seed + mod) % arr.length];

            // 1. NAME
            const pre = ["Mi", "Lu", "Fa", "Ko", "Ri", "Se", "Yu", "Po"];
            const mid = ["ha", "ru", "na", "ka", "li", "mi", "no", "sa"];
            const suf = ["-chan", "-pyon", "ren", "la", "ne", "ru"];
            const finalName = get(pre, 0) + get(mid, 3) + get(suf, 6);

            // 2. STATS
            const types = ["Tsundere", "Dojikko", "Alien Princess", "Ghost", "Catgirl", "Class President"];
            const hairs = ["Pink Twin-tails", "Blue Bob", "Blonde Drills", "Silver Long", "Green Bun"];
            const powers = ["Explosive Sneezes", "Infinite Appetite", "Bad Luck", "Water Magic", "Pheromones"];
            const quotes = ["It's not like I did it for you!", "Uwaaa! I tripped!", "Do you have any snacks?", "Humans are fascinating.", "My bath is ready!"];
            
            // 3. AVATARS (Emojis based on Type)
            const avatars = {
                "Tsundere": "üí¢", "Dojikko": "ü©π", "Alien Princess": "üëë", 
                "Ghost": "üëª", "Catgirl": "üê±", "Class President": "üëì"
            };
            const myType = get(types, 2);

            // 4. LUCKY ITEM REWARD
            const items = [
                { name: "Melon Bread", icon: "üçû", desc: "Always fresh and slightly warm." },
                { name: "Magical Flip Phone", icon: "üì±", desc: "Can text other dimensions." },
                { name: "Rubber Duck", icon: "üê§", desc: "Essential for Seiren baths." },
                { name: "Curry Spoon", icon: "ü•Ñ", desc: "Makes any food taste spicy." },
                { name: "Mysterious Potion", icon: "üß™", desc: "Don't drink it... probably." },
                { name: "Hair Ribbon", icon: "üéÄ", desc: "Adds +10 Cuteness." }
            ];
            const myItem = get(items, 9);

            // RENDER
            document.getElementById('id-num').innerText = Math.floor(Math.random() * 900) + 100;
            document.getElementById('avatar').innerText = avatars[myType] || "‚ú®";
            document.getElementById('animeName').innerText = finalName;
            document.getElementById('archetype').innerText = myType;
            document.getElementById('hair').innerText = get(hairs, 4);
            document.getElementById('power').innerText = get(powers, 5);
            document.getElementById('quote').innerText = get(quotes, 1);

            // RENDER ITEM
            document.getElementById('item-icon').innerText = myItem.icon;
            document.getElementById('item-name').innerText = myItem.name;
            document.getElementById('item-desc').innerText = myItem.desc;

            // SHOW
            document.getElementById('result').style.display = 'block';
        }
    </script>
</body>
</html>
